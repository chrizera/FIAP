---------------------------------------------------------------
-- SCRIPT DDL PARA CRIAÇÃO DA ESTRUTURA DO BD                --
-- DLL -> LINGUAGEM DE DEFINIÇÃO DE DADOS                    --
-- NOME ARQUIVO: SCRIPT_DDL_SISTEMA_IMPLANTACAO_PROJETOS.SQL --
---------------------------------------------------------------

-- CRIAR A TABELA DEPARTAMENTO
CREATE TABLE T_SIP_DEPARTAMENTO (
 cd_depto NUMBER(2)    NOT NULL,
 nm_depto VARCHAR2(30) NOT NULL
);
-- CRIAR A CHAVE PRIMÁRIA DA TABELA DEPARTAMENTO
ALTER TABLE T_SIP_DEPARTAMENTO
 ADD CONSTRAINT PK_SIP_DEPARTAMENTO 
 PRIMARY KEY (cd_depto);

-- CRIAR A TABELA FUNCIONÁRIO
CREATE TABLE T_SIP_FUNCIONARIO (
 nr_matricula   NUMBER(5)    NOT NULL,
 cd_depto       NUMBER(2)    NOT NULL,
 nm_funcionario VARCHAR2(50) NOT NULL,
 dt_nascimento  DATE             NULL,
 dt_admissao    DATE         NOT NULL,
 vl_salario     NUMBER(7,2)  NOT NULL
);
-- CRIAR A CHAVE PRIMÁRIA DA TABELA FUNCIONARIO
ALTER TABLE T_SIP_FUNCIONARIO
 ADD CONSTRAINT PK_SIP_FUNCIONARIO
 PRIMARY KEY    (nr_matricula);

-- CRIAR A TABELA DEPENDENTE
CREATE TABLE T_SIP_DEPENDENTE(
 cd_dependente NUMBER(2)    NOT NULL,
 nr_matricula  NUMBER(5)    NOT NULL,
 nm_dependente VARCHAR2(50) NOT NULL,
 dt_nascimento DATE         NOT NULL
);
-- CRIAR A CHAVE PRIMÁRIA DA TABELA DEPENDENTE
ALTER TABLE T_SIP_DEPENDENTE
 ADD CONSTRAINT PK_SIP_DEPENDENTE
 PRIMARY KEY    (cd_dependente, nr_matricula);

-- CRIAR A TABELA IMPLANTACAO
CREATE TABLE T_SIP_IMPLANTACAO(
 cd_implantacao NUMBER(6) NOT NULL,
 cd_projeto     NUMBER(5) NOT NULL,
 nr_matricula   NUMBER(5) NOT NULL,
 dt_entrada     DATE      NOT NULL,
 dt_saida       DATE          NULL
);
-- CRIAR A CHAVE PRIMÁRIA DA TABELA IMPLANTACAO
ALTER TABLE T_SIP_IMPLANTACAO
 ADD CONSTRAINT PK_SIP_IMPLANTACAO
 PRIMARY KEY    (cd_implantacao);

-- CRIAR A TABELA PROJETO
CREATE TABLE T_SIP_PROJETO(
 cd_projeto NUMBER(5)   NOT NULL,
 nm_projeto VARCHAR2(5) NOT NULL,
 dt_inicio  DATE        NOT NULL,
 dt_termino DATE            NULL
);
-- CRIAR A CHAVE PRIMÁRIA DA TABELA PROJETO
ALTER TABLE T_SIP_PROJETO
 ADD CONSTRAINT PK_SIP_PROJETO
 PRIMARY KEY    (cd_projeto);

-- CRIAR A TABELA ENDEREÇO FUNCIONARIO
CREATE TABLE T_SIP_ENDE_FUNC(
 nr_logradouro  NUMBER(5)    NOT NULL,
 ds_complemento VARCHAR2(25)     NULL,
 nr_cep         NUMBER(8)    NOT NULL,
 nr_matricula   NUMBER(5)    NOT NULL
);
-- CRIAR A CHAVE PRIMARIA DE ENDERECO FUNCIONARIO
ALTER TABLE T_SIP_ENDE_FUNC
 ADD CONSTRAINT PK_SIP_ENDE_FUNC
 PRIMARY KEY (nr_cep, nr_matricula);

-- CRIAR A TABELA ESTADO
CREATE TABLE T_SIP_ESTADO(
 cd_estado NUMBER(2)    NOT NULL,
 nm_estado VARCHAR2(30) NOT NULL,
 sg_estado CHAR(2)      NOT NULL
);
-- CRIAR A CHAVE PRIMARIA DE ESTADO
ALTER TABLE T_SIP_ESTADO
 ADD CONSTRAINT PK_SIP_ESTADO
 PRIMARY KEY (cd_estado);

-- CRIAR A TABELA CIDADE
CREATE TABLE T_SIP_CIDADE(
 cd_cidade NUMBER(5)    NOT NULL,
 nm_cidade VARCHAR2(40) NOT NULL,
 cd_estado NUMBER(2)    NOT NULL
);
-- CRIAR A CHAVE PRIMARIA DE CIDADE
ALTER TABLE T_SIP_CIDADE
 ADD CONSTRAINT PK_SIP_CIDADE
 PRIMARY KEY (cd_cidade);

-- CRIAR A TABELA BAIRRO
CREATE TABLE T_SIP_BAIRRO(
 cd_bairro NUMBER(5)    NOT NULL,
 nm_bairro VARCHAR2(30) NOT NULL,
 cd_cidade NUMBER(5)    NOT NULL
);
-- CRIAR A CHAVE PRIMARIA DE BAIRRO
ALTER TABLE T_SIP_BAIRRO
 ADD CONSTRAINT PK_SIP_BAIRRO
 PRIMARY KEY (cd_bairro);

-- CRIAR A TABELA LOGRADOURO
CREATE TABLE T_SIP_LOGRADOURO(
 cd_tipo_logradouro NUMBER(2)    NOT NULL,
 ds_tipo_logradouro VARCHAR2(20) NOT NULL
);
-- CRIAR A CHAVE PRIMARIA DE LOGRADOURO
ALTER TABLE T_SIP_LOGRADOURO
 ADD CONSTRAINT PK_SIP_LOGRADOURO
 PRIMARY KEY (cd_tipo_logradouro);

-- CRIAR A TABELA ENDERECO
CREATE TABLE T_SIP_ENDERECO(
 nr_cep             NUMBER(8)    NOT NULL,
 ds_logradouro      VARCHAR2(40) NOT NULL,
 cd_bairro          NUMBER(5)    NOT NULL,
 cd_tipo_logradouro NUMBER(2)    NOT NULL
);
-- CRIAR A CHAVE PRIMARIA DE ENDERECO
ALTER TABLE T_SIP_ENDERECO
 ADD CONSTRAINT PK_SIP_ENDERECO
 PRIMARY KEY (nr_cep);